{"ast":null,"code":"import axios from \"axios\";\nimport appConfig from \"../Utils/AppConfig\";\nimport { AuthActionType, authStore } from \"../Redux/AuthRedux\";\nclass AuthService {\n  async register(user) {\n    // Send user to backend:\n    const response = await axios.post(appConfig.registerUrl, user);\n\n    // Get the returned token:\n    const token = response.data;\n    console.log(token);\n\n    // Send token to global state:\n    authStore.dispatch({\n      type: AuthActionType.Register,\n      payload: token\n    });\n  }\n\n  // Login:\n  async login(credentials) {\n    // Send credentials to backend:\n    const response = await axios.post(appConfig.loginUrl, credentials);\n\n    // Get the returned token:\n    const token = response.data;\n\n    // Send token to global state:\n    authStore.dispatch({\n      type: AuthActionType.Login,\n      payload: token\n    });\n  }\n\n  // Logout:\n  logout() {\n    authStore.dispatch({\n      type: AuthActionType.Logout\n    });\n  }\n\n  // Is user logged in:\n  isLoggedIn() {\n    return authStore.getState().token !== null;\n  }\n}\nconst authService = new AuthService();\nexport default authService;","map":{"version":3,"names":["axios","appConfig","AuthActionType","authStore","AuthService","register","user","response","post","registerUrl","token","data","console","log","dispatch","type","Register","payload","login","credentials","loginUrl","Login","logout","Logout","isLoggedIn","getState","authService"],"sources":["C:/Users/User/Desktop/javascript/movies project 6/Frontend/src/Services/auth-service.ts"],"sourcesContent":["import axios from \"axios\";\r\nimport appConfig from \"../Utils/AppConfig\";\r\nimport UserModel from \"../Models/user-model\";\r\nimport CredentialsModel from \"../Models/credential-model\";\r\nimport { AuthActionType, authStore } from \"../Redux/AuthRedux\";\r\n\r\nclass AuthService {\r\n\r\n    public async register(user: UserModel): Promise<void> {\r\n\r\n        // Send user to backend:\r\n        const response = await axios.post<string>(appConfig.registerUrl, user);\r\n\r\n        // Get the returned token:\r\n        const token = response.data;\r\n\r\n        console.log(token);\r\n\r\n        // Send token to global state:\r\n        authStore.dispatch({ type: AuthActionType.Register, payload: token });\r\n    }\r\n\r\n    // Login:\r\n    public async login(credentials: CredentialsModel): Promise<void> {\r\n\r\n        // Send credentials to backend:\r\n        const response = await axios.post<string>(appConfig.loginUrl, credentials);\r\n\r\n        // Get the returned token:\r\n        const token = response.data;\r\n\r\n        // Send token to global state:\r\n        authStore.dispatch({ type: AuthActionType.Login, payload: token });\r\n    }\r\n\r\n    // Logout:\r\n    public logout(): void {\r\n        authStore.dispatch({ type: AuthActionType.Logout });\r\n    }\r\n\r\n    // Is user logged in:\r\n    public isLoggedIn(): boolean {\r\n        return authStore.getState().token !== null;\r\n    }\r\n\r\n}\r\n\r\nconst authService = new AuthService();\r\n\r\nexport default authService;\r\n\r\n"],"mappings":"AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,OAAOC,SAAS,MAAM,oBAAoB;AAG1C,SAASC,cAAc,EAAEC,SAAS,QAAQ,oBAAoB;AAE9D,MAAMC,WAAW,CAAC;EAEd,MAAaC,QAAQA,CAACC,IAAe,EAAiB;IAElD;IACA,MAAMC,QAAQ,GAAG,MAAMP,KAAK,CAACQ,IAAI,CAASP,SAAS,CAACQ,WAAW,EAAEH,IAAI,CAAC;;IAEtE;IACA,MAAMI,KAAK,GAAGH,QAAQ,CAACI,IAAI;IAE3BC,OAAO,CAACC,GAAG,CAACH,KAAK,CAAC;;IAElB;IACAP,SAAS,CAACW,QAAQ,CAAC;MAAEC,IAAI,EAAEb,cAAc,CAACc,QAAQ;MAAEC,OAAO,EAAEP;IAAM,CAAC,CAAC;EACzE;;EAEA;EACA,MAAaQ,KAAKA,CAACC,WAA6B,EAAiB;IAE7D;IACA,MAAMZ,QAAQ,GAAG,MAAMP,KAAK,CAACQ,IAAI,CAASP,SAAS,CAACmB,QAAQ,EAAED,WAAW,CAAC;;IAE1E;IACA,MAAMT,KAAK,GAAGH,QAAQ,CAACI,IAAI;;IAE3B;IACAR,SAAS,CAACW,QAAQ,CAAC;MAAEC,IAAI,EAAEb,cAAc,CAACmB,KAAK;MAAEJ,OAAO,EAAEP;IAAM,CAAC,CAAC;EACtE;;EAEA;EACOY,MAAMA,CAAA,EAAS;IAClBnB,SAAS,CAACW,QAAQ,CAAC;MAAEC,IAAI,EAAEb,cAAc,CAACqB;IAAO,CAAC,CAAC;EACvD;;EAEA;EACOC,UAAUA,CAAA,EAAY;IACzB,OAAOrB,SAAS,CAACsB,QAAQ,CAAC,CAAC,CAACf,KAAK,KAAK,IAAI;EAC9C;AAEJ;AAEA,MAAMgB,WAAW,GAAG,IAAItB,WAAW,CAAC,CAAC;AAErC,eAAesB,WAAW"},"metadata":{},"sourceType":"module","externalDependencies":[]}