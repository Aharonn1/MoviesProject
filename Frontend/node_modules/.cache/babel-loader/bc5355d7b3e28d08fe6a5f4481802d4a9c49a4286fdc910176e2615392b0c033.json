{"ast":null,"code":"import { createStore } from \"redux\";\nexport class MovieState {\n  constructor() {\n    this.movie = [];\n  }\n}\nexport let MovieActionType = /*#__PURE__*/function (MovieActionType) {\n  MovieActionType[\"getAllMovies\"] = \"getAllMovies\";\n  MovieActionType[\"getMovieByTheater\"] = \"getMovieByTheater\";\n  MovieActionType[\"addMovie\"] = \"addMovie\";\n  MovieActionType[\"deleteMovie\"] = \"deleteMovie\";\n  MovieActionType[\"buy\"] = \"buy\";\n  MovieActionType[\"unBuy\"] = \"unBuy\";\n  MovieActionType[\"AddBuy\"] = \"AddBuy\";\n  MovieActionType[\"RemoveBuy\"] = \"RemoveBuy\";\n  return MovieActionType;\n}({});\nexport function movieReducer() {\n  let currentState = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : new MovieState();\n  let action = arguments.length > 1 ? arguments[1] : undefined;\n  const newState = {\n    ...currentState\n  };\n  switch (action.type) {\n    case MovieActionType.getAllMovies:\n      newState.movie = action.payload;\n      break;\n    case MovieActionType.addMovie:\n      newState.movie.push(action.payload);\n      break;\n    case MovieActionType.deleteMovie:\n      const indexToDelete = newState.movie.findIndex(p => p.movieId === action.payload);\n      if (indexToDelete >= 0) {\n        newState.movie.splice(indexToDelete, 1);\n      }\n      break;\n    case MovieActionType.buy:\n      const isNotFollowingToUpdate = newState.movie.find(m => m.movieId === action.payload);\n      isNotFollowingToUpdate.bu = 1;\n      isNotFollowingToUpdate.followersCount += 1;\n      break;\n    case VacationActionType.unfollow:\n      const isFollowingToUpdate = newState.vacation.find(v => v.vacationId === action.payload);\n      if (isFollowingToUpdate.idFollowing === 1) {\n        isFollowingToUpdate.idFollowing = 0;\n      }\n      break;\n    case VacationActionType.RemoveFollow:\n      const removeFollowerVacation = newState.vacation.find(v => v.vacationId === action.payload);\n      removeFollowerVacation.followersCount -= 1;\n      break;\n  }\n  return newState;\n}\nexport const movieStore = createStore(movieReducer);","map":{"version":3,"names":["createStore","MovieState","constructor","movie","MovieActionType","movieReducer","currentState","arguments","length","undefined","action","newState","type","getAllMovies","payload","addMovie","push","deleteMovie","indexToDelete","findIndex","p","movieId","splice","buy","isNotFollowingToUpdate","find","m","bu","followersCount","VacationActionType","unfollow","isFollowingToUpdate","vacation","v","vacationId","idFollowing","RemoveFollow","removeFollowerVacation","movieStore"],"sources":["C:/Users/User/Desktop/javascript/movies project 5/Frontend/src/Redux/MovieRedux.ts"],"sourcesContent":["import { createStore } from \"redux\";\r\nimport MoviesModel from \"../Models/movies-model\";\r\n\r\nexport class MovieState{\r\n    public movie: MoviesModel[] = [];\r\n}\r\n\r\nexport enum MovieActionType{\r\n    getAllMovies = \"getAllMovies\",\r\n    getMovieByTheater = \"getMovieByTheater\",\r\n    addMovie = \"addMovie\",\r\n    deleteMovie = \"deleteMovie\",\r\n    buy = \"buy\",\r\n    unBuy = \"unBuy\",\r\n    AddBuy = \"AddBuy\",\r\n    RemoveBuy = \"RemoveBuy\",\r\n}\r\n\r\nexport interface MovieAction {\r\n    type: MovieActionType;\r\n    payload: any;\r\n}\r\n\r\nexport function movieReducer(currentState = new MovieState(), action: MovieAction): MovieState {\r\n    const newState = { ...currentState }\r\n\r\n    switch (action.type) {\r\n        case MovieActionType.getAllMovies:\r\n            newState.movie = action.payload\r\n            break;\r\n\r\n        case MovieActionType.addMovie:\r\n            newState.movie.push(action.payload)\r\n\r\n            break;\r\n\r\n        case MovieActionType.deleteMovie:\r\n            const indexToDelete = newState.movie.findIndex(p => p.movieId === action.payload)\r\n            if (indexToDelete >= 0) {\r\n                newState.movie.splice(indexToDelete, 1)\r\n            }\r\n            break;\r\n\r\n            \r\n\r\n        case MovieActionType.buy:\r\n            const isNotFollowingToUpdate = newState.movie.find(m => m.movieId === action.payload)\r\n            isNotFollowingToUpdate.bu = 1;\r\n            isNotFollowingToUpdate.followersCount += 1\r\n            break;\r\n\r\n        case VacationActionType.unfollow:\r\n            const isFollowingToUpdate = newState.vacation.find(v => v.vacationId === action.payload)\r\n            if (isFollowingToUpdate.idFollowing === 1) {\r\n                isFollowingToUpdate.idFollowing = 0;\r\n            }\r\n            break;\r\n\r\n        case VacationActionType.RemoveFollow:\r\n            const removeFollowerVacation = newState.vacation.find(v => v.vacationId === action.payload)\r\n            removeFollowerVacation.followersCount -= 1;\r\n            break;\r\n           \r\n           \r\n        }\r\n\r\n        \r\n        \r\n        return newState\r\n    }\r\n\r\n\r\n    export const movieStore = createStore(movieReducer);"],"mappings":"AAAA,SAASA,WAAW,QAAQ,OAAO;AAGnC,OAAO,MAAMC,UAAU;EAAAC,YAAA;IAAA,KACZC,KAAK,GAAkB,EAAE;EAAA;AACpC;AAEA,WAAYC,eAAe,0BAAfA,eAAe;EAAfA,eAAe;EAAfA,eAAe;EAAfA,eAAe;EAAfA,eAAe;EAAfA,eAAe;EAAfA,eAAe;EAAfA,eAAe;EAAfA,eAAe;EAAA,OAAfA,eAAe;AAAA;AAgB3B,OAAO,SAASC,YAAYA,CAAA,EAAmE;EAAA,IAAlEC,YAAY,GAAAC,SAAA,CAAAC,MAAA,QAAAD,SAAA,QAAAE,SAAA,GAAAF,SAAA,MAAG,IAAIN,UAAU,CAAC,CAAC;EAAA,IAAES,MAAmB,GAAAH,SAAA,CAAAC,MAAA,OAAAD,SAAA,MAAAE,SAAA;EAC7E,MAAME,QAAQ,GAAG;IAAE,GAAGL;EAAa,CAAC;EAEpC,QAAQI,MAAM,CAACE,IAAI;IACf,KAAKR,eAAe,CAACS,YAAY;MAC7BF,QAAQ,CAACR,KAAK,GAAGO,MAAM,CAACI,OAAO;MAC/B;IAEJ,KAAKV,eAAe,CAACW,QAAQ;MACzBJ,QAAQ,CAACR,KAAK,CAACa,IAAI,CAACN,MAAM,CAACI,OAAO,CAAC;MAEnC;IAEJ,KAAKV,eAAe,CAACa,WAAW;MAC5B,MAAMC,aAAa,GAAGP,QAAQ,CAACR,KAAK,CAACgB,SAAS,CAACC,CAAC,IAAIA,CAAC,CAACC,OAAO,KAAKX,MAAM,CAACI,OAAO,CAAC;MACjF,IAAII,aAAa,IAAI,CAAC,EAAE;QACpBP,QAAQ,CAACR,KAAK,CAACmB,MAAM,CAACJ,aAAa,EAAE,CAAC,CAAC;MAC3C;MACA;IAIJ,KAAKd,eAAe,CAACmB,GAAG;MACpB,MAAMC,sBAAsB,GAAGb,QAAQ,CAACR,KAAK,CAACsB,IAAI,CAACC,CAAC,IAAIA,CAAC,CAACL,OAAO,KAAKX,MAAM,CAACI,OAAO,CAAC;MACrFU,sBAAsB,CAACG,EAAE,GAAG,CAAC;MAC7BH,sBAAsB,CAACI,cAAc,IAAI,CAAC;MAC1C;IAEJ,KAAKC,kBAAkB,CAACC,QAAQ;MAC5B,MAAMC,mBAAmB,GAAGpB,QAAQ,CAACqB,QAAQ,CAACP,IAAI,CAACQ,CAAC,IAAIA,CAAC,CAACC,UAAU,KAAKxB,MAAM,CAACI,OAAO,CAAC;MACxF,IAAIiB,mBAAmB,CAACI,WAAW,KAAK,CAAC,EAAE;QACvCJ,mBAAmB,CAACI,WAAW,GAAG,CAAC;MACvC;MACA;IAEJ,KAAKN,kBAAkB,CAACO,YAAY;MAChC,MAAMC,sBAAsB,GAAG1B,QAAQ,CAACqB,QAAQ,CAACP,IAAI,CAACQ,CAAC,IAAIA,CAAC,CAACC,UAAU,KAAKxB,MAAM,CAACI,OAAO,CAAC;MAC3FuB,sBAAsB,CAACT,cAAc,IAAI,CAAC;MAC1C;EAGJ;EAIA,OAAOjB,QAAQ;AACnB;AAGA,OAAO,MAAM2B,UAAU,GAAGtC,WAAW,CAACK,YAAY,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}