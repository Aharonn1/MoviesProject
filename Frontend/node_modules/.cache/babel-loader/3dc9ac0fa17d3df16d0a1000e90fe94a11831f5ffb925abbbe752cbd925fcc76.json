{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\User\\\\Desktop\\\\javascript\\\\movies project 5\\\\Frontend\\\\src\\\\Components\\\\DataArea\\\\ShopingCart\\\\ShoppingCart.tsx\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\nimport { createContext, useContext, useState } from \"react\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst ShoppingCartContext = /*#__PURE__*/createContext({});\nexport function useShoppingCart() {\n  _s();\n  return useContext(ShoppingCartContext);\n}\n_s(useShoppingCart, \"gDsCjeeItUuvgOWf1v4qoK9RF6k=\");\nexport function ShoppingCartProvider(_ref) {\n  _s2();\n  let {\n    children\n  } = _ref;\n  const [cartItem, setCartItems] = useState([]);\n  function getItemQuantity(id) {\n    var _cartItem$find;\n    return ((_cartItem$find = cartItem.find(item => item.id === id)) === null || _cartItem$find === void 0 ? void 0 : _cartItem$find.quantity) || 0;\n  }\n  function increaseCartQuantity(id) {\n    setCartItems(currItems => {\n      if (currItems.find(item => item.id === id) == null) {\n        return [...currItems, {\n          id,\n          quantity: 1\n        }];\n      } else {\n        return currItems.map(item => {\n          if (item.id === id) {\n            return {\n              ...item,\n              quantity: item.quantity + 1\n            };\n          } else {\n            return item;\n          }\n        });\n      }\n    });\n  }\n  function decreaseCartQuantity(id) {\n    setCartItems(currItems => {\n      var _currItems$find;\n      if (((_currItems$find = currItems.find(item => item.id === id)) === null || _currItems$find === void 0 ? void 0 : _currItems$find.quantity) === 1) {\n        return currItems.filter(item => item.id !== id);\n      } else {\n        return currItems.map(item => {\n          if (item.id === id) {\n            return {\n              ...item,\n              quantity: item.quantity - 1\n            };\n          } else {\n            return item;\n          }\n        });\n      }\n    });\n  }\n  function removeFromCart(id) {\n    setCartItems(currItems => {\n      return currItems.filter(item => item.id !== id);\n    });\n  }\n  const ShoppingCartContext = /*#__PURE__*/createContext({});\n  return /*#__PURE__*/_jsxDEV(ShoppingCartContext.Provider, {\n    value: {\n      getItemQuantity,\n      increaseCartQuantity,\n      decreaseCartQuantity,\n      removeFromCart\n    },\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 78,\n    columnNumber: 9\n  }, this);\n}\n_s2(ShoppingCartProvider, \"lMRwRrjrvnO5TkvIDhBSJJxN3mI=\");\n_c = ShoppingCartProvider;\nvar _c;\n$RefreshReg$(_c, \"ShoppingCartProvider\");","map":{"version":3,"names":["createContext","useContext","useState","jsxDEV","_jsxDEV","ShoppingCartContext","useShoppingCart","_s","ShoppingCartProvider","_ref","_s2","children","cartItem","setCartItems","getItemQuantity","id","_cartItem$find","find","item","quantity","increaseCartQuantity","currItems","map","decreaseCartQuantity","_currItems$find","filter","removeFromCart","Provider","value","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["C:/Users/User/Desktop/javascript/movies project 5/Frontend/src/Components/DataArea/ShopingCart/ShoppingCart.tsx"],"sourcesContent":["import { createContext, ReactNode, useContext, useState } from \"react\"\n\n\ntype ShoppingCartProviderProps = {\n    children: ReactNode\n}\n\ntype CartItem = {\n    id: number\n    quantity: number\n}\n\ntype ShoppingCartContext = {\n    getItemQuantity: (id: number) => number\n    increaseCartQuantity: (id: number) => void\n    decreaseCartQuantity: (id: number) => void\n    removeFromCart: (id: number) => void\n}\n\nconst ShoppingCartContext = createContext({} as ShoppingCartContext)\n\nexport function useShoppingCart() {\n    return useContext(ShoppingCartContext)\n}\nexport function ShoppingCartProvider({ children }: ShoppingCartProviderProps) {\n    const [cartItem, setCartItems] = useState<CartItem[]>([])\n\n\n    function getItemQuantity(id: number) {\n        return cartItem.find(item => item.id === id)?.quantity || 0\n    }\n\n    function increaseCartQuantity(id: number) {\n        setCartItems(currItems => {\n          if (currItems.find(item => item.id === id) == null) {\n            return [...currItems, { id, quantity: 1 }]\n          } else {\n            return currItems.map(item => {\n              if (item.id === id) {\n                return { ...item, quantity: item.quantity + 1 }\n              } else {\n                return item\n              }\n            })\n          }\n        })\n      }\n\n\n      function decreaseCartQuantity(id: number) {\n        setCartItems(currItems => {\n          if (currItems.find(item => item.id === id)?.quantity === 1) {\n            return currItems.filter(item => item.id !== id)\n          } else {\n            return currItems.map(item => {\n              if (item.id === id) {\n                return { ...item, quantity: item.quantity - 1 }\n              } else {\n                return item\n              }\n            })\n          }\n        })\n      }\n\n\n      function removeFromCart(id: number) {\n        setCartItems(currItems => {\n          return currItems.filter(item => item.id !== id)\n        })\n      }\n    \n\n    const ShoppingCartContext = createContext({} as ShoppingCartContext)\n\n\n    return (\n        <ShoppingCartContext.Provider value={{ getItemQuantity, increaseCartQuantity, decreaseCartQuantity, removeFromCart }}>\n            {children}\n        </ShoppingCartContext.Provider>\n    )\n\n}\n"],"mappings":";;;AAAA,SAASA,aAAa,EAAaC,UAAU,EAAEC,QAAQ,QAAQ,OAAO;AAAA,SAAAC,MAAA,IAAAC,OAAA;AAmBtE,MAAMC,mBAAmB,gBAAGL,aAAa,CAAC,CAAC,CAAwB,CAAC;AAEpE,OAAO,SAASM,eAAeA,CAAA,EAAG;EAAAC,EAAA;EAC9B,OAAON,UAAU,CAACI,mBAAmB,CAAC;AAC1C;AAACE,EAAA,CAFeD,eAAe;AAG/B,OAAO,SAASE,oBAAoBA,CAAAC,IAAA,EAA0C;EAAAC,GAAA;EAAA,IAAzC;IAAEC;EAAoC,CAAC,GAAAF,IAAA;EACxE,MAAM,CAACG,QAAQ,EAAEC,YAAY,CAAC,GAAGX,QAAQ,CAAa,EAAE,CAAC;EAGzD,SAASY,eAAeA,CAACC,EAAU,EAAE;IAAA,IAAAC,cAAA;IACjC,OAAO,EAAAA,cAAA,GAAAJ,QAAQ,CAACK,IAAI,CAACC,IAAI,IAAIA,IAAI,CAACH,EAAE,KAAKA,EAAE,CAAC,cAAAC,cAAA,uBAArCA,cAAA,CAAuCG,QAAQ,KAAI,CAAC;EAC/D;EAEA,SAASC,oBAAoBA,CAACL,EAAU,EAAE;IACtCF,YAAY,CAACQ,SAAS,IAAI;MACxB,IAAIA,SAAS,CAACJ,IAAI,CAACC,IAAI,IAAIA,IAAI,CAACH,EAAE,KAAKA,EAAE,CAAC,IAAI,IAAI,EAAE;QAClD,OAAO,CAAC,GAAGM,SAAS,EAAE;UAAEN,EAAE;UAAEI,QAAQ,EAAE;QAAE,CAAC,CAAC;MAC5C,CAAC,MAAM;QACL,OAAOE,SAAS,CAACC,GAAG,CAACJ,IAAI,IAAI;UAC3B,IAAIA,IAAI,CAACH,EAAE,KAAKA,EAAE,EAAE;YAClB,OAAO;cAAE,GAAGG,IAAI;cAAEC,QAAQ,EAAED,IAAI,CAACC,QAAQ,GAAG;YAAE,CAAC;UACjD,CAAC,MAAM;YACL,OAAOD,IAAI;UACb;QACF,CAAC,CAAC;MACJ;IACF,CAAC,CAAC;EACJ;EAGA,SAASK,oBAAoBA,CAACR,EAAU,EAAE;IACxCF,YAAY,CAACQ,SAAS,IAAI;MAAA,IAAAG,eAAA;MACxB,IAAI,EAAAA,eAAA,GAAAH,SAAS,CAACJ,IAAI,CAACC,IAAI,IAAIA,IAAI,CAACH,EAAE,KAAKA,EAAE,CAAC,cAAAS,eAAA,uBAAtCA,eAAA,CAAwCL,QAAQ,MAAK,CAAC,EAAE;QAC1D,OAAOE,SAAS,CAACI,MAAM,CAACP,IAAI,IAAIA,IAAI,CAACH,EAAE,KAAKA,EAAE,CAAC;MACjD,CAAC,MAAM;QACL,OAAOM,SAAS,CAACC,GAAG,CAACJ,IAAI,IAAI;UAC3B,IAAIA,IAAI,CAACH,EAAE,KAAKA,EAAE,EAAE;YAClB,OAAO;cAAE,GAAGG,IAAI;cAAEC,QAAQ,EAAED,IAAI,CAACC,QAAQ,GAAG;YAAE,CAAC;UACjD,CAAC,MAAM;YACL,OAAOD,IAAI;UACb;QACF,CAAC,CAAC;MACJ;IACF,CAAC,CAAC;EACJ;EAGA,SAASQ,cAAcA,CAACX,EAAU,EAAE;IAClCF,YAAY,CAACQ,SAAS,IAAI;MACxB,OAAOA,SAAS,CAACI,MAAM,CAACP,IAAI,IAAIA,IAAI,CAACH,EAAE,KAAKA,EAAE,CAAC;IACjD,CAAC,CAAC;EACJ;EAGF,MAAMV,mBAAmB,gBAAGL,aAAa,CAAC,CAAC,CAAwB,CAAC;EAGpE,oBACII,OAAA,CAACC,mBAAmB,CAACsB,QAAQ;IAACC,KAAK,EAAE;MAAEd,eAAe;MAAEM,oBAAoB;MAAEG,oBAAoB;MAAEG;IAAe,CAAE;IAAAf,QAAA,EAChHA;EAAQ;IAAAkB,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACiB,CAAC;AAGvC;AAACtB,GAAA,CA1DeF,oBAAoB;AAAAyB,EAAA,GAApBzB,oBAAoB;AAAA,IAAAyB,EAAA;AAAAC,YAAA,CAAAD,EAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}